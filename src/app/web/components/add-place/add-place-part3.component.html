<div class="row header-title  text-center">
  <h5>{{'DISHES' | translate }}</h5>
</div>

<div class="row text-center">
  <div class="small-6 medium-6 large-6 columns  small-centered ">
    <h6>{{'SELECT_CURRENCY' | translate}}</h6>
    <br />
    <select [(ngModel)]="currentCurrency" name="name"
            (ngModelChange)="selectCurrency($event)">
        <option [ngValue]="currency"
          *ngFor="let currency of currencies">
          {{ currency.name }}
        </option>
    </select>
  </div>
</div>

<div class="row dishes-block">
  <div class="small-12 medium-12 large-12 columns  small-centered">
    <div class="text-center">
      <h6>{{'SELECT_DISHES' | translate}}</h6>
    </div>
    <br />
    <div *ngFor="let dish of dishes">

      <div class="row">
        <div class="small-6 medium-6 large-6 columns">
          <img [src]="dish.imageUrl"/>
        </div>
        <div class="small-6 medium-6 large-6 columns">
          <div class="text-center">
            {{dish.name}}
          </div>
          <br />

          <div class="row">
            <div class="small-6 medium-6 large-6 columns text-center">
              <div class="padding-top">
                {{'AVAILABILITY' | translate}}
              </div>
            </div>
            <div class="small-6 medium-6 large-6 columns text-center">
              <div class="switch dish-switch">
                <input class="switch-input"
                      [attr.id]="dish.id"
                      [(ngModel)]="dish.selected"
                      (ngModelChange)="toogleDetails(dish.id)"
                      type="checkbox"
                      name="positionSwitch">
                      <label class="switch-paddle success" [attr.for]="dish.id">
                        <span class="switch-active" aria-hidden="true">Yes</span>
                        <span class="switch-inactive" aria-hidden="true">No</span>
                      </label>
              </div>
            </div>
          </div>
          <br />

          <div>
            {{dish.description}}
          </div>
        </div>

        <br />
      </div>
      <br />

      <div [attr.id]="dish.id + 'details'" style="display:none;">
        <div class="row">
          <div class="small-1 medium-1 large-1 columns text-center">
            {{ 'SIZE' | translate }}
          </div>
          <div class="small-3 medium-3 large-3 columns text-center">
            {{ 'AVAILABILITY' | translate }}
          </div>
          <div class="small-4 medium-4 large-4 columns text-center">
            {{ 'DESCRIPTION' | translate }}
          </div>
          <div class="small-4 medium-4 large-4 columns text-center">
            {{ 'PRICE' | translate }}
          </div>
        </div>
        <br />

        <div class="row" *ngFor="let position of dish.postions">
          <div class="small-1 medium-1 large-1 columns text-center">
            <div class="padding-top">
              {{position.size}}
            </div>
          </div>
          <div class="small-3 medium-3 large-3 columns text-center">
            <div class="switch tiny dish-switch">
              <input class="switch-input"
                    [attr.id]="position.id"
                    [(ngModel)]="position.selected"
                    type="checkbox"
                    [disabled]="!dish.selected"
                    name="positionSwitch">
                    <label class="switch-paddle success" [attr.for]="position.id">
                      <span class="switch-active" aria-hidden="true">Yes</span>
                      <span class="switch-inactive" aria-hidden="true">No</span>
                    </label>
            </div>
          </div>
          <div class="small-4 medium-4 large-4 columns">
            {{position.description}}
          </div>
          <div class="small-4 medium-4 large-4 columns">
            <div class="input-group">
              <span class="input-group-label" [innerHtml]="currentCurrency.postfix "></span>
              <input class="input-group-field" [(ngModel)]="position.price" [disabled]="!position.selected" type="number"/>
            </div>

          </div>

          <br />
        </div>
      </div>
      <br />

    </div>
  </div>
</div>


<div class="row">
  <div class="small-6 columns text-center">
    <button (click)="router.navigate(['/join-us', 'part2'])" class="button warning">
      {{ 'BACK' | translate}}
    </button>
  </div>
  <div class="small-6 columns text-center">
    <button (click)="finish()" class="button">{{ 'SUBMIT_PLACE' | translate}}</button>
  </div>
</div>
